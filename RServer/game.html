<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Slackey&display=swap" rel="stylesheet">
    <title>Get that Cat</title>
    <script type="module" crossorigin src="/assets/index-8Fj6gIXG.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-DKQ_eWvG.css">
  {{ headContent() }}</head>
  <body>

  <div class="game-container" x-data="$store.gameState">
    <div class="hud">
      <h1>Get that Cat!</h1>
      <h2 x-text="`Level: ${level}`" class="level"></h2>
    </div>

    <div class="map">
      <template x-for="cat in cats" :key="cat.id">
        <div 
        x-data="cat"
        class="Character Cat"
        :class="cat.trapped ? 'trapped' : ''"
        :data-facing="cat.facing"
        :data-model="cat.model" 
        :style="{transform: `translate3d(${16 * cat.x}px, ${16 * cat.y}px, 0)`}"
        >
          <div class="shadow"></div>
          <div class="sprite"></div>
          <template x-if="cat.trapped">
              <div class="info-container">
              <template x-for="i in cat.fuss">
                <span class="fuss"></span>
              </template>
            </div>
          </template>
        </div>
      </template>

      <template x-for="player in players" :key="player.id">
        <div 
        class="Character Player" 
        :class="player.id == playerId ? 'you' : ''"
        :data-model="player.model" 
        :data-facing="player.facing"
        :style="{transform: `translate3d(${16 * player.x}px, ${16 * player.y}px, 0)`}"
        >
          <div class="shadow"></div>
          <div class="sprite"></div>
          <div class="you-arrow"></div>
        </div>
      </template>
    </div>

  </div>

  </body>
</html>
